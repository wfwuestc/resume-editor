webpackJsonp([1],{"+WHP":function(e,t){},"2CeI":function(e,t){},ACGL:function(e,t){},NHnr:function(e,t,s){"use strict";function n(e){s("2CeI")}function i(e){s("+WHP")}function r(e){s("ACGL")}function o(e){s("vHXC")}function a(e){s("Xtzo")}function l(e){s("YSFt")}function u(e){s("ovlD")}Object.defineProperty(t,"__esModule",{value:!0});var c=s("0tSy"),m={name:"MyDialog",props:["title","visible"],methods:{close:function(){this.$emit("close")}}},v=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"show",rawName:"v-show",value:e.visible,expression:"visible"}],staticClass:"dialogWrapper"},[s("div",{staticClass:"dialog"},[s("header",[e._v(e._s(e.title)+"\n      "),s("span",{staticClass:"close",on:{click:e.close}},[e._v("X")])]),e._v(" "),s("main",[e._t("default")],2)])])},f=[],p={render:v,staticRenderFns:f},d=p,_=s("/Xao"),g=n,h=_(m,d,!1,g,"data-v-73b4997a",null),b=h.exports,w=s("UM2g"),y=s.n(w);y.a.init({appId:"XtBA9qy1k1W1Fd0yrYfvdXoS-gzGzoHsz",appKey:"UOmizdTmGeyJqFWSK3itRgRo"});var D=y.a,$={202:"用户名已被占用",217:"无效的用户名",210:"用户名和密码不匹配",211:"找不到该用户",unknown:"请求失败，请稍后再试"},C=function(e){var t=e.code;return $[t]||$.unknown},k=function(e){var t=e||D.User.current()||{attributes:{}},s=t.id,n=t.attributes.username;return{id:s||"",username:n||""}},I={name:"SignUpForm",data:function(){return{formData:{username:"",password:""},errorMessage:""}},created:function(){},methods:{signUp:function(){var e=this,t=this.formData,s=t.username,n=t.password,i=new D.User;i.setUsername(s),i.setPassword(n),i.signUp().then(function(){e.$emit("success",k())},function(t){e.errorMessage=C(t)})}}},U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("form",{on:{submit:function(t){t.preventDefault(),e.signUp(t)}}},[s("div",{staticClass:"row"},[s("label",[e._v("用户名")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",required:""},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"row"},[s("label",[e._v("密码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",required:""},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"actions"},[s("input",{attrs:{type:"submit",value:"提交"}}),e._v(" "),s("span",{staticClass:"errorMessage"},[e._v(e._s(e.errorMessage))])])])])},x=[],E={render:U,staticRenderFns:x},F=E,M=s("/Xao"),S=M(I,F,!1,null,null,null),P=S.exports,R={name:"SignInForm",data:function(){return{formData:{username:"",password:""},errorMessage:""}},methods:{signIn:function(){var e=this,t=this.formData,s=t.username,n=t.password;D.User.logIn(s,n).then(function(){e.$emit("success",k())},function(t){e.errorMessage=C(t)})}}},T=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("form",{on:{submit:function(t){t.preventDefault(),e.signIn(t)}}},[s("div",{staticClass:"row"},[s("label",[e._v("用户名")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.username,expression:"formData.username"}],attrs:{type:"text",required:""},domProps:{value:e.formData.username},on:{input:function(t){t.target.composing||e.$set(e.formData,"username",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"row"},[s("label",[e._v("密码")]),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.password,expression:"formData.password"}],attrs:{type:"password",required:""},domProps:{value:e.formData.password},on:{input:function(t){t.target.composing||e.$set(e.formData,"password",t.target.value)}}})]),e._v(" "),s("div",{staticClass:"actions"},[s("input",{attrs:{type:"submit",value:"提交"}}),e._v(" "),s("span",[e._v(e._s(e.errorMessage))])])])])},X=[],V={render:T,staticRenderFns:X},K=V,N=s("/Xao"),A=N(R,K,!1,null,null,null),O=A.exports,z={components:{MyDialog:b,SignUpForm:P,SignInForm:O},methods:{preview:function(){this.$emit("preview")},signIn:function(e){this.signUpDialogVisible=!1,this.signInDialogVisible=!1,this.$store.commit("setUser",e)},signOut:function(){D.User.logOut(),this.$store.commit("removeUser")}},data:function(){return{signUpDialogVisible:!1,signInDialogVisible:!1}},computed:{user:function(){return this.$store.state.user},logined:function(){return this.user.id}}},H=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"topbar"}},[e._m(0,!1,!1),e._v(" "),s("div",{staticClass:"action"},[e.logined?s("div",{staticClass:"userActions"},[s("span",{staticClass:"welcome"},[e._v("你好，"+e._s(e.user.username))]),e._v(" "),s("el-button",{on:{click:function(t){t.preventDefault(),e.signOut(t)}}},[e._v("注销")])],1):s("div",{staticClass:"userActions"},[s("el-button",{on:{click:function(t){t.preventDefault(),e.signInDialogVisible=!0}}},[e._v("登录")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){t.preventDefault(),e.signUpDialogVisible=!0}}},[e._v("注册")]),e._v(" "),s("MyDialog",{attrs:{title:"注册",visible:e.signUpDialogVisible},on:{close:function(t){e.signUpDialogVisible=!1}}},[s("SignUpForm",{on:{success:function(t){e.signIn(t)}}})],1)],1)]),e._v(" "),s("MyDialog",{attrs:{title:"登录",visible:e.signInDialogVisible},on:{close:function(t){e.signInDialogVisible=!1}}},[s("SignInForm",{on:{success:function(t){e.signIn(t)}}})],1),e._v(" "),s("MyDialog",{attrs:{title:"注册",visible:e.signUpDialogVisible},on:{close:function(t){e.signUpDialogVisible=!1}}},[s("SignUpForm",{on:{success:function(t){e.signIn(t)}}})],1)],1)},q=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"logo"},[s("h2",[e._v("Resume Editor")])])}],W={render:H,staticRenderFns:q},G=W,B=s("/Xao"),J=i,L=B(z,G,!1,J,null,null),Y=L.exports,j={props:["profile"],methods:{changeProfile:function(e,t){this.$store.commit("updateResume",{path:e,value:t})}}},Z=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-form",{ref:"form",attrs:{"label-width":"80px"}},[s("el-form-item",{attrs:{label:"姓名"}},[s("el-input",{attrs:{value:e.profile.name},on:{input:function(t){e.changeProfile("profile.name",t)}}})],1),e._v(" "),s("el-form-item",{attrs:{label:"性别"}},[s("el-select",{attrs:{value:e.profile.sex,placeholder:"请选择性别"},on:{input:function(t){e.changeProfile("profile.sex",t)}}},[s("el-option",{attrs:{label:"男",value:"man"}}),e._v(" "),s("el-option",{attrs:{label:"女",value:"woman"}})],1)],1),e._v(" "),s("el-form-item",{attrs:{label:"城市"}},[s("el-input",{attrs:{value:e.profile.city},on:{input:function(t){e.changeProfile("profile.city",t)}}})],1)],1)},Q=[],ee={render:Z,staticRenderFns:Q},te=ee,se=s("/Xao"),ne=r,ie=se(j,te,!1,ne,null,null),re=ie.exports,oe=s("ZLEe"),ae=s.n(oe),le=(console.log.bind(console),{props:["items","labels","itemKey","title"],computed:{keys:function(){return ae()(this.items[0])}},methods:{addItem:function(){var e={};this.keys.map(function(t){e[t]=""}),this.items.push(e)},removeItem:function(e){1!==this.items.length&&this.items.splice(e,1)},changeResume:function(e,t){this.$store.commit("updateResume",{path:e,value:t})}}}),ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[s("h2",[e._v(e._s(e.title))]),e._v(" "),s("el-form",{ref:"form",staticClass:"item-form",attrs:{"label-width":"80px"}},e._l(this.items,function(t,n){return s("div",{staticClass:"container"},[e._l(e.keys,function(i){return s("el-form-item",{key:i,attrs:{label:e.labels[i]||i}},[s("el-input",{attrs:{value:t[i]},on:{input:function(t){e.changeResume(e.itemKey+"."+n+"."+i,t)}}})],1)}),e._v(" "),s("i",{staticClass:"el-icon-circle-close-outline",on:{click:function(t){e.removeItem(n)}}}),e._v(" "),s("hr",{staticClass:"lines"})],2)})),e._v(" "),s("el-button",{attrs:{type:"primary",icon:"el-icon-circle-plus-outline"},on:{click:e.addItem}},[e._v("添加")])],1)},ce=[],me={render:ue,staticRenderFns:ce},ve=me,fe=s("/Xao"),pe=o,de=fe(le,ve,!1,pe,null,null),_e=de.exports,ge={components:{ProfileEditor:re,ItemEditor:_e},data:function(){return{colors:["red","blue","yellow","green","orange"]}},computed:{icon:function(){return this.$store.state.icon},currentTab:{get:function(){return this.$store.state.currentTab},set:function(e){return this.$store.commit("switchTab",e)}},resume:function(){return this.$store.state.resume}}},he=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"editor"}},[s("nav",[s("ul",{staticClass:"nav-bar"},e._l([0,1,2,3,4],function(t){return s("li",{class:{active:e.currentTab===t},on:{click:function(s){e.currentTab=t}}},[s("svg",{staticClass:"icon",staticStyle:{width:"50px",height:"50px"},style:{fill:e.colors[t]},attrs:{"aria-hidden":"true"}},[s("use",{attrs:{"xlink:href":"#icon-"+e.icon[t]}})])])}))]),e._v(" "),s("div",{staticClass:"edit-wrap"},[s("ul",{staticClass:"edit-content"},[s("li",{class:{active:0===e.currentTab}},[s("h2",[e._v("个人信息")]),e._v(" "),s("ProfileEditor",{attrs:{profile:e.resume.profile}})],1),e._v(" "),s("li",{class:{active:1===e.currentTab}},[s("ItemEditor",{attrs:{items:e.resume.study,labels:{school:"学校",degree:"学位",specialty:"专业"},itemKey:"study",title:"学业情况"}})],1),e._v(" "),s("li",{class:{active:2===e.currentTab}},[s("ItemEditor",{attrs:{items:e.resume.skill,labels:{type:"技能名称",level:"熟练程度"},itemKey:"skill",title:"职业技能"}})],1),e._v(" "),s("li",{class:{active:3===e.currentTab}},[s("ItemEditor",{attrs:{items:e.resume.work,labels:{company:"公司名称",position:"职位",content:"工作内容"},itemKey:"work",title:"工作经验"}})],1),e._v(" "),s("li",{class:{active:4===e.currentTab}},[s("ItemEditor",{attrs:{items:e.resume.fav,labels:{item:"项目"},title:"兴趣爱好",itemKey:"fav"}})],1)])])])},be=[],we={render:he,staticRenderFns:be},ye=we,De=s("/Xao"),$e=a,Ce=De(ge,ye,!1,$e,null,null),ke=Ce.exports,Ie={methods:{filter:function(e){var t=this;return e.filter(function(e){return!t.isEmpty(e)})},isEmpty:function(e){var t=!0;for(var s in e)if(e[s]){t=!1;break}return t},resume:function(){return this.$store.state.resume}}},Ue=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"preview"}},[s("h1",[e._v(e._s(e.resume().profile.name||"请填写姓名"))]),e._v(" "),s("p",[e._v(e._s(e.resume().profile.city||"请填写城市"))]),e._v(" "),e.filter(e.resume().study).length>0?s("section",[s("h2",[e._v("学习经历")]),e._v(" "),s("hr"),e._v(" "),s("ul",e._l(e.resume().study,function(t){return s("li",[e._v("\n        "+e._s(t.school)+"\n        "+e._s(t.degree)+"\n        "+e._s(t.specialty)+"\n      ")])}))]):e._e(),e._v(" "),e.filter(e.resume().skill).length>0?s("section",[s("h2",[e._v("技能掌握")]),e._v(" "),s("hr"),e._v(" "),s("ul",e._l(e.resume().skill,function(t){return s("li",[e._v("\n        "+e._s(t.type)+"\n        "+e._s(t.level)+"\n      ")])}))]):e._e(),e._v(" "),e.filter(e.resume().work).length>0?s("section",[s("h2",[e._v("工作经验")]),e._v(" "),s("hr"),e._v(" "),s("ul",e._l(e.resume().work,function(t){return s("li",[e._v("\n        "+e._s(t.company)+"\n        "+e._s(t.position)+"\n        "+e._s(t.content)+"\n      ")])}))]):e._e(),e._v(" "),e.filter(e.resume().fav).length>0?s("section",[s("h2",[e._v("兴趣爱好")]),e._v(" "),s("hr"),e._v(" "),s("ul",e._l(e.resume().fav,function(t){return s("li",[e._v("\n        "+e._s(t.item)+"\n\n      ")])}))]):e._e()])},xe=[],Ee={render:Ue,staticRenderFns:xe},Fe=Ee,Me=s("/Xao"),Se=l,Pe=Me(Ie,Fe,!1,Se,null,null),Re=Pe.exports,Te=s("aA9S"),Xe=s.n(Te),Ve=s("3cXf"),Ke=s.n(Ve),Ne=s("9rMa"),Ae=s("lk51"),Oe=s.n(Ae);c.default.use(Ne.a);var ze=new Ne.a.Store({state:{resume:{profile:{name:"",sex:"",date:"",city:""},study:[{school:"",degree:"",specialty:""}],skill:[{type:"",level:""}],work:[{company:"",position:"",content:""}],fav:[{item:""}]},user:{id:"",username:""},currentTab:0,icon:["credential","xueli","skill","work","fav"],previewMode:!1},mutations:{switchTab:function(e,t){e.currentTab=t,localStorage.setItem("state",Ke()(e))},switchPreview:function(e){e.previewMode=!0},updateResume:function(e,t){var s=t.path,n=t.value;console.log(s),Oe.a.set(e.resume,s,n),localStorage.setItem("state",Ke()(e))},initState:function(e,t){Xe()(e,t)},setUser:function(e,t){Xe()(e.user,t),console.log(e.user)},removeUser:function(e){e.user.id=""}}}),He={store:ze,components:{Topbar:Y,Editor:ke,Preview:Re},methods:{preview:function(){return this.$store.commit("switchPreview")}},computed:{previewMode:function(){return this.$store.state.previewMode}},created:function(){var e=localStorage.getItem("state");e&&(e=JSON.parse(e)),this.$store.commit("initState",e),this.$store.commit("setUser",k())}},qe=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{class:{previewMode:e.previewMode},attrs:{id:"app"}},[s("Topbar",{staticClass:"topbar",on:{preview:e.preview}}),e._v(" "),s("main",[s("Editor",{staticClass:"editor"}),e._v(" "),s("Preview")],1)],1)},We=[],Ge={render:qe,staticRenderFns:We},Be=Ge,Je=s("/Xao"),Le=u,Ye=Je(He,Be,!1,Le,null,null),je=Ye.exports,Ze=(s("OBsF"),s("NcP2"),s("z5U/")),Qe=s.n(Ze);s("rK6t");c.default.use(Qe.a),c.default.config.productionTip=!1,new c.default({el:"#app",template:"<App/>",components:{App:je}})},NcP2:function(e,t){},OBsF:function(e,t){},Xtzo:function(e,t){},YSFt:function(e,t){},ovlD:function(e,t){},rK6t:function(e,t){},vHXC:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.b5eb4bb033c2395c415b.js.map